# Планировщик бюджета / Трекер расходов на WebAssembly

## Общее описание проекта

Это мой учебный проект, в котором я реализовал полноценное веб-приложение для отслеживания личных расходов. Основная особенность — использование WebAssembly, скомпилированного из кода на C. Приложение позволяет добавлять траты, просматривать их в таблице и автоматически рассчитывать общие суммы по категориям.

### Основной функционал

* Добавление записей о расходах с датой, категорией, суммой и описанием
* Отображение всех расходов в таблице с динамическим обновлением
* Подсчет общих расходов и сумм по категориям
* Удаление отдельных записей
* Очистка всех данных
* Простой и удобный интерфейс

## Структура проекта

Проект состоит из следующих файлов:

* **main.c** — основной код на C, реализующий всю логику работы с данными
* **index.html** — HTML-разметка интерфейса
* **app.js** — JavaScript-код для обработки событий и взаимодействия с DOM

## Техническая реализация

### Язык программирования и компиляция

Приложение написано на языке C и скомпилировано в WebAssembly с помощью **Emscripten**. Все вычисления и работа с данными происходят на стороне C, а взаимодействие с интерфейсом реализовано через JavaScript и HTML.

### Используемые структуры данных

В C-коде определены структуры:

* `ExpenseEntry` — отдельная запись о расходе (дата, категория, сумма, описание)
* `CategoryTotal` — суммарные расходы по категориям

### Реализованные функции

* Добавление новой записи о расходе
* Удаление записи по индексу
* Очистка всех записей
* Подсчет общей суммы
* Подсчет сумм по категориям

### Интеграция с WebAssembly

Скомпилированный C-код экспортирует функции в JavaScript с помощью Emscripten API. Через них происходит передача данных и обновление интерфейса. HTML-шаблон используется для генерации итоговой страницы, а функции вызываются из JS-кода при взаимодействии с пользователем.

## Инструкция по сборке

Чтобы собрать проект, нужно установить Emscripten:

1. Следуйте официальной инструкции: [https://emscripten.org/docs/getting\_started/downloads.html](https://emscripten.org/docs/getting_started/downloads.html)
2. Склонируйте или скачайте проект к себе
3. Перейдите в терминале в папку с проектом
4. Выполните команду сборки:

```bash
emcc main.c -o index.js -s WASM=1 -O2 -s EXPORTED_RUNTIME_METHODS='["stringToUTF8","UTF8ToString"]' -s EXPORTED_FUNCTIONS='["_main","_jsAddExpense","_jsDeleteExpense","_jsClearAllExpenses","_jsGetTotalExpenses","_jsGetExpenseCount","_jsGetCategoryCount","_getExpenseJSON","_getCategoryTotalJSON","_freeMemory","_malloc","_free"]' --shell-file index.html -s ALLOW_MEMORY_GROWTH=1
```

Эта команда:

* Компилирует `main.c` в WebAssembly и JS
* Использует HTML-шаблон `index.html`
* Экспортирует нужные функции из C в JS
* Включает возможность увеличения памяти
* Оптимизирует сборку флагом `-O2`

Все файлы (`index.html`, `app.js`, `index.js`, `.wasm`) должны находиться в одной директории.

## Как запустить

Чтобы запустить приложение, нужно локально развернуть сервер, например через Python:

```bash
python3 -m http.server 8000
```

Затем откройте браузер и перейдите по адресу:
`http://localhost:8000/`

## Чему я научился

В ходе этого проекта я получил опыт:

* Сборки WebAssembly из C с помощью Emscripten
* Оптимизации и управления памятью в C
* Интеграции C и JavaScript в одном веб-приложении
* Обработки пользовательского ввода и динамического обновления интерфейса
* Реализации проекта с практической пользой

## Лицензия

Проект создан в образовательных целях. Разрешено свободно использовать и модифицировать в рамках учебных заданий.
